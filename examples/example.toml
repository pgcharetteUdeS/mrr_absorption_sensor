# Physical parameters							
lambda_res = 0.532                    # Ring resonance wavelength (um)
pol = "TE"                            # Mode polarization, for use in graph labeling ("TM" or "TE, default = "TE")
core_width = 0.70                     # Waveguide core width (um)
ni_op = 1.00e-6                       # Fluid refractive index imaginary component operating point (RIU)
alpha_wg = 5                          # Intrinsic waveguide propagation losses due to material absorption and sidewall roughness (db/cm)
spiral_spacing = 5                    # Spacing between the waveguides in the spiral (um)

# Analysis parameters
Rmin = 10                             # Analysis domain minimum radius (um)
Rmax = 10000                          # Analysis domain maximum radius (um)
R_samples_per_decade = 100            # Analysis domain  logarithmic sampling rate (number of samples per decade)
T_SNR = 20                            # Transmission measurement SNR (dB)
min_delta_ni = 1.0e-6                 # Desired minimum resolvable change in ni (RIU)
write_excel_files = true		      # Enable/disable writing of results to Excel files (default = true)
write_spiral_sequence_to_file = false # Enable/disable writing of spiral sequence to TIFF multi-image file (default = true)
output_sub_dir = "data"        		  # Subdirectory in which to write files, relative (default = "", use "/" or "\\" for delimiters on Windows)

# Fitting parameters
gamma_order = 4                       # Polynomial model order for interpolating gamma(h)
neff_order = 3                        # Polynomial model order for interpolating neff(h)
spiral_turns_min = 1.0			      # Minimum allowed turns in the spiral (default = 0.5)
spiral_turns_max = 50                 # Maximum number of allowed turns in the spiral in the optimization (default = 25)
colormap2D = "plasma"

# Debugging flags                     # NB: "true and "false" MUST be lower-case in .toml format
models_only = false                   # Calculate and plot models only, without analysing the waveguides (boolean, default = false)
no_spiral = false		              # Analyse the MRR and linear waveguides only (boolean, default = false)
disable_R_domain_check = true         # Show warning on console but don't exit the script if the mode solver data doesn't adequately
                                      # cover the analysis domain, see below (boolean, default = false)

# Dictionary of mode solver data for each h:
# - Key: "h.XXX", indicates the value of h in nm (XXX = h in nm), in increasing order.
# - Values:
#   - R[] (um), aplha_bend[] (um-1) arrays: bending loss value pair arrays of alpha_bend(R) @ h.
#     NB : to avoid edge effects in the analysis at small radii (R ~ Rmin), the mode solver arrays
#          must include data at R < Rmin (for the largest values of h only). At the other end (large R),
#          the mode solver arrays must include alpha_bend data down to values of ~min(alpha_prop)/100,
#          for ALL values of h, where min(alpha_prop) = alpha_wg + min(gamma)*alpha_fluid.
# - Also, if the "modes" field is NOT used:
#   - gamma: fraction of mode power in the fluid medium ("gamma_fluid", in the range [0,1]).
#   - neff: mode effective index (RIU).

[h.145]
gamma = 0.75
neff = 1.33107
R = [ 1165.0, 2104.5, 3044.0, 3983.5, 4923.0, 5862.5, 6802.0, 7741.5, 8681.0, 9620.5, 10560.0, 11499.5,]
alpha_bend = [ 0.0010304307885333202, 0.00034774158464642225, 0.0001421269903342805, 5.895926025611426e-5, 2.439817220861968e-5, 1.0100048947931964e-5, 4.161148949862471e-6, 1.6751645850240153e-6, 6.515564037164926e-7, 2.490792304697348e-7, 9.934696254625115e-8, 4.605065576148408e-8,]

[h.160]
gamma = 0.65
neff = 1.33382
R = [ 182.0, 373.5, 565.0, 756.5, 948.0, 1139.5, 1331.0, 1522.5, 1714.0, 1905.5, 2097.0, 2288.5,]
alpha_bend = [ 0.005417677461795471, 0.0009992512201689023, 0.0002550578704559528, 7.550197706673706e-5, 2.4853106572488692e-5, 8.724568097075875e-6, 3.137637575944408e-6, 1.2135120652745127e-6, 4.891748116201867e-7, 1.8140935144215714e-7, 5.6059005122131435e-8, 1.3462944818405722e-8,]

[h.200]
gamma = 0.45
neff = 1.34742
R = [ 37.4, 56.7, 76.0, 95.3, 114.6, 133.9, 153.2, 172.5, 191.8, 211.1, 230.4, 249.7,]
alpha_bend = [ 0.012423644, 0.003278896, 0.00106, 0.000344135, 0.00011649, 4.05746e-5, 1.44469e-5, 5.2353e-6, 1.92476e-6, 7.16219e-7, 2.69264e-7, 1.02132e-7,]

[h.230]
gamma = 0.36
neff = 1.35833
R = [ 26.0, 35.5, 45.0, 54.5, 64.0, 73.5, 83.0, 92.5, 102.0, 111.5, 121.0, 130.5,]
alpha_bend = [ 0.010975978, 0.003301191, 0.00106, 0.000354373, 0.000121661, 4.26599e-5, 1.52168e-5, 5.50544e-6, 2.01582e-6, 7.45634e-7, 2.78224e-7, 1.04605e-7,]

[h.260]
gamma = 0.3
neff = 1.36873
R = [ 20.0, 26.0, 32.0, 38.0, 44.0, 50.0, 56.0, 62.0, 68.0, 74.0, 80.0, 86.0,]
alpha_bend = [ 0.010820873, 0.003504094, 0.00109, 0.000370372, 0.000128686, 4.54643e-5, 1.62894e-5, 5.90669e-6, 2.16392e-6, 7.99826e-7, 2.97923e-7, 1.11725e-7,]

[h.300]
gamma = 0.24
neff = 1.37983
R = [ 16.0, 20.0, 24.0, 28.0, 32.0, 36.0, 40.0, 44.0, 48.0, 52.0, 56.0, 60.0,]
alpha_bend = [ 0.0101780103, 0.003504338, 0.00123, 0.000442279, 0.000160857, 5.92368e-5, 2.20547e-5, 8.29093e-6, 3.14337e-6, 1.20072e-6, 4.61701e-7, 1.7858e-7,]

[h.350]
gamma = 0.2
neff = 1.39409
R = [ 13.0, 16.0, 19.0, 22.0, 25.0, 28.0, 31.0, 34.0, 37.0, 40.0, 43.0, 46.0,]
alpha_bend = [ 0.0108100502, 0.0037139705, 0.00102, 0.000343129, 0.000116518, 3.99651e-5, 1.38357e-5, 4.83015e-6, 1.6991e-6, 6.01722e-7, 2.14379e-7, 7.679e-8,]

[h.400]
gamma = 0.16
neff = 1.40789
R = [ 11.3, 13.9, 16.5, 19.1, 21.7, 24.3, 26.9, 29.5, 32.1, 34.7, 37.3, 39.9,]
alpha_bend = [ 0.011430914, 0.0037210821, 0.00122, 0.000403971, 0.000134507, 4.52069e-5, 1.53193e-5, 5.23117e-6, 1.79886e-6, 6.225e-7, 2.16648e-7, 7.57875e-8,]

